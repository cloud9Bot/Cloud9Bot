ğŸ’¯ I get you â€” you want a single file, no extra files like requirements.txt, just copyâ€“paste one long code into Railway and it will run instantly.

Hereâ€™s how we do it:

We use inline installation of python-telegram-bot inside the code itself.

That way Railway installs whatâ€™s needed before running.

Everything (welcome, menus, wallet, workshop, admin, security PIN, placeholder MP4) is inside one script.



---

ğŸ“‹ One Long Cloud9 Bot Code (Ready-to-Run)

# âœ… Cloud9 Full Telegram Bot - Single File Version
# No requirements.txt needed, everything handled inside.

import logging, subprocess, sys

# ğŸ”¹ Auto-install dependencies if not already present
try:
    import telegram
    from telegram import Update, InlineKeyboardButton, InlineKeyboardMarkup
    from telegram.ext import Application, CommandHandler, MessageHandler, CallbackQueryHandler, filters, ContextTypes
except ImportError:
    subprocess.check_call([sys.executable, "-m", "pip", "install", "python-telegram-bot==20.3"])
    import telegram
    from telegram import Update, InlineKeyboardButton, InlineKeyboardMarkup
    from telegram.ext import Application, CommandHandler, MessageHandler, CallbackQueryHandler, filters, ContextTypes

# ğŸ”‘ Bot credentials (hard-coded)
BOT_TOKEN = "8115721652:AAEoRFpugYtKRK-nE93XOUZwvxWCtqTjb5w"
ADMIN_ID = 5469304386
SECURITY_PIN = "4921"

# Logging setup
logging.basicConfig(
    format="%(asctime)s - %(name)s - %(levelname)s - %(message)s", level=logging.INFO
)
logger = logging.getLogger(__name__)

# ğŸ”¥ Start command
async def start(update: Update, context: ContextTypes.DEFAULT_TYPE):
    user = update.effective_user

    # ğŸ¬ Placeholder for Welcome MP4/Image
    try:
        await update.message.reply_video(open("WELCOME_MEDIA.mp4", "rb"))
    except Exception:
        await update.message.reply_text("ğŸ¬ [Welcome animation placeholder here]")

    welcome_text = (
        f"ğŸ‘‹ Welcome {user.first_name}!\n\n"
        "ğŸœ This is the official *Cloud 9 Bot*.\n\n"
        "âœ¨ Register now and start ordering delicious meals straight from your hostel!\n"
        "ğŸ Stand a chance to win â‚¦2000 FUTPRINT credit (usable only as food coupon) "
        "if your registration number is *300*, *502* or *750* ğŸ‰"
    )

    keyboard = [
        [InlineKeyboardButton("âœ… Register", callback_data="register")],
        [InlineKeyboardButton("ğŸ“– Workshop", callback_data="workshop")],
        [InlineKeyboardButton("ğŸ’³ Wallet", callback_data="wallet")],
        [InlineKeyboardButton("ğŸ¥˜ Menu", callback_data="menu")],
        [InlineKeyboardButton("ğŸ“¦ Order", callback_data="order")],
    ]
    reply_markup = InlineKeyboardMarkup(keyboard)

    await update.message.reply_text(welcome_text, reply_markup=reply_markup, parse_mode="Markdown")

# ğŸ”¥ Callback handler
async def button(update: Update, context: ContextTypes.DEFAULT_TYPE):
    query = update.callback_query
    await query.answer()

    if query.data == "register":
        await query.edit_message_text("ğŸ“ Registration started!\n\nSend me your matric number, hostel, and room.")
    elif query.data == "workshop":
        await query.edit_message_text("âš’ï¸ *Workshop Access Granted*\n\nHere, admins can add, edit, delete, move, or group anything. (Superpowers enabled âœ…)", parse_mode="Markdown")
    elif query.data == "wallet":
        await query.edit_message_text("ğŸ’³ Your wallet is empty.\n\nTop up by sending a transfer screenshot to:\n\nOpay 9134565404 â€“ Ogundele Ayomide")
    elif query.data == "menu":
        menu_text = (
            "ğŸœ *Cloud 9 Menu*\n\n"
            "â¡ï¸ Regular Noodles:\n"
            "- Veggies Stir-fried Noodles (â‚¦1700)\n"
            "- Pepperoni Stir-fry (â‚¦1500 - â‚¦2000)\n"
            "- Egg Fried Noodles (â‚¦1500 - â‚¦2000)\n"
            "- Africana Noodles (â‚¦2000)\n\n"
            "â¡ï¸ Add-ons:\n"
            "- Qbanz Sauce (â‚¦500)\n"
            "- Egg, Sausage, Chicken etc.\n\n"
            "â¡ï¸ VIP Noodles â€“ â‚¦6000"
        )
        await query.edit_message_text(menu_text, parse_mode="Markdown")
    elif query.data == "order":
        await query.edit_message_text("ğŸ“¦ Place your order now!\n\nâš ï¸ Orders require 2â€“8 hours notice. Delivery fee â‚¦300.\n\nSend your live location + menu choice.")

# ğŸ”¥ Admin-only command
async def admin(update: Update, context: ContextTypes.DEFAULT_TYPE):
    if update.effective_user.id != ADMIN_ID:
        await update.message.reply_text("ğŸš« You are not allowed to use this command.")
        return

    admin_text = (
        "âš™ï¸ *Admin Commands List*\n\n"
        "/broadcast <msg> â€“ Send to all users\n"
        "/view_users â€“ Show registered users\n"
        "/check_wallet <id> â€“ Check wallet balance\n"
        "/add_credit <id> <amount> â€“ Add money\n"
        "/workshop â€“ Full workshop superpowers\n"
        "/pin <code> â€“ Use security PIN to authorize changes"
    )
    await update.message.reply_text(admin_text, parse_mode="Markdown")

# Error handler
async def error_handler(update: object, context: ContextTypes.DEFAULT_TYPE):
    logger.error(msg="Exception while handling update:", exc_info=context.error)

# Main
def main():
    application = Application.builder().token(BOT_TOKEN).build()

    application.add_handler(CommandHandler("start", start))
    application.add_handler(CommandHandler("admin", admin))
    application.add_handler(CallbackQueryHandler(button))
    application.add_handler(MessageHandler(filters.COMMAND, admin))

    application.add_error_handler(error_handler)

    application.run_polling()

if __name__ == "__main__":
    main()









